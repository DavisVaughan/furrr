<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="These options fine tune furrr functions, such as future_map(). They
are either used by furrr directly, or are passed on to future::future()."><title>Options to fine tune furrr — furrr_options • furrr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Options to fine tune furrr — furrr_options"><meta property="og:description" content="These options fine tune furrr functions, such as future_map(). They
are either used by furrr directly, or are passed on to future::future()."><meta property="og:image" content="https://furrr.futureverse.org/logo.png"><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">furrr</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.3.1.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/carrier.html">Alternative to automatic globals detection</a>
    <a class="dropdown-item" href="../articles/chunking.html">Chunking input</a>
    <a class="dropdown-item" href="../articles/gotchas.html">Common gotchas</a>
    <a class="dropdown-item" href="../articles/progress.html">Progress notifications with progressr</a>
    <a class="dropdown-item" href="../articles/remote-connections.html">Remote connections</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/DavisVaughan/furrr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Options to fine tune furrr</h1>
      <small class="dont-index">Source: <a href="https://github.com/DavisVaughan/furrr/blob/HEAD/R/furrr-options.R" class="external-link"><code>R/furrr-options.R</code></a></small>
      <div class="d-none name"><code>furrr_options.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>These options fine tune furrr functions, such as <code><a href="future_map.html">future_map()</a></code>. They
are either used by furrr directly, or are passed on to <code><a href="https://future.futureverse.org/reference/future.html" class="external-link">future::future()</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">furrr_options</span><span class="op">(</span></span>
<span>  <span class="va">...</span>,</span>
<span>  stdout <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  conditions <span class="op">=</span> <span class="st">"condition"</span>,</span>
<span>  globals <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  packages <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  seed <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  scheduling <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  chunk_size <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  prefix <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>...</dt>
<dd><p>These dots are reserved for future extensibility and must
be empty.</p></dd>


<dt>stdout</dt>
<dd><p>A logical.</p><ul><li><p>If <code>TRUE</code>, standard output of the underlying futures is relayed as soon
as possible.</p></li>
<li><p>If <code>FALSE</code>, output is silenced by sinking it to the null device.</p></li>
</ul></dd>


<dt>conditions</dt>
<dd><p>A character string of conditions classes to be relayed.
The default is to relay all conditions, including messages and warnings.
Errors are always relayed. To not relay any conditions (besides errors),
use <code>conditions = character()</code>. To selectively ignore specific classes,
use <code>conditions = structure("condition", exclude = "message")</code>.</p></dd>


<dt>globals</dt>
<dd><p>A logical, a character vector, a named list, or <code>NULL</code> for
controlling how globals are handled. For details, see the
<code>Global variables</code> section below.</p></dd>


<dt>packages</dt>
<dd><p>A character vector, or <code>NULL</code>. If supplied, this specifies
packages that are guaranteed to be attached in the R environment where the
future is evaluated.</p></dd>


<dt>seed</dt>
<dd><p>A logical, an integer of length <code>1</code> or <code>7</code>, a list of
<code>length(.x)</code> with pre-generated random seeds, or <code>NULL</code>. For details, see
the <code>Reproducible random number generation (RNG)</code> section below.</p></dd>


<dt>scheduling</dt>
<dd><p>A single integer, logical, or <code>Inf</code>. This argument
controls the average number of futures ("chunks") per worker.</p><ul><li><p>If <code>0</code>, then a single future is used to process all elements of <code>.x</code>.</p></li>
<li><p>If <code>1</code> or <code>TRUE</code>, then one future per worker is used.</p></li>
<li><p>If <code>2</code>, then each worker will process two futures (provided there
are enough elements in <code>.x</code>).</p></li>
<li><p>If <code>Inf</code> or <code>FALSE</code>, then one future per element of <code>.x</code> is used.</p></li>
</ul><p>This argument is only used if <code>chunk_size</code> is <code>NULL</code>.</p></dd>


<dt>chunk_size</dt>
<dd><p>A single integer, <code>Inf</code>, or <code>NULL</code>. This argument
controls the average number of elements per future (<code>"chunk"</code>). If <code>Inf</code>,
then all elements are processed in a single future. If <code>NULL</code>, then
<code>scheduling</code> is used instead to determine how <code>.x</code> is chunked.</p></dd>


<dt>prefix</dt>
<dd><p>A single character string, or <code>NULL</code>. If a character string,
then each future is assigned a label as <code>{prefix}-{chunk-id}</code>. If <code>NULL</code>,
no labels are used.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="global-variables">Global variables<a class="anchor" aria-label="anchor" href="#global-variables"></a></h2>
    


<p><code>globals</code> controls how globals are identified, similar to the <code>globals</code>
argument of <code><a href="https://future.futureverse.org/reference/future.html" class="external-link">future::future()</a></code>. Since all function calls use the same set of
globals, furrr gathers globals upfront (once), which is more efficient than
if it was done for each future independently.</p><ul><li><p>If <code>TRUE</code> or <code>NULL</code>, then globals are automatically identified and
gathered.</p></li>
<li><p>If a character vector of names is specified, then those globals are
gathered.</p></li>
<li><p>If a named list, then those globals are used as is.</p></li>
<li><p>In all cases, <code>.f</code> and any <code>...</code> arguments are automatically passed as
globals to each future created, as they are always needed.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="reproducible-random-number-generation-rng-">Reproducible random number generation (RNG)<a class="anchor" aria-label="anchor" href="#reproducible-random-number-generation-rng-"></a></h2>
    


<p>Unless <code>seed = FALSE</code>, furrr functions are guaranteed to generate
the exact same sequence of random numbers <em>given the same initial
seed / RNG state</em> regardless of the type of futures and scheduling
("chunking") strategy.</p>
<p>Setting <code>seed = NULL</code> is equivalent to <code>seed = FALSE</code>, except that the
<code>future.rng.onMisuse</code> option is not consulted to potentially monitor the
future for faulty random number usage. See the <code>seed</code> argument of
<code><a href="https://future.futureverse.org/reference/future.html" class="external-link">future::future()</a></code> for more details.</p>
<p>RNG reproducibility is achieved by pre-generating the random seeds for all
iterations (over <code>.x</code>) by using L'Ecuyer-CMRG RNG streams. In each
iteration, these seeds are set before calling <code>.f(.x[[i]], ...)</code>.
<em>Note, for large <code>length(.x)</code> this may introduce a large overhead.</em></p>
<p>A fixed <code>seed</code> may be given as an integer vector, either as a full
L'Ecuyer-CMRG RNG seed of length <code>7</code>, or as a seed of length <code>1</code> that
will be used to generate a full L'Ecuyer-CMRG seed.</p>
<p>If <code>seed = TRUE</code>, then <code>.Random.seed</code> is returned if it holds a
L'Ecuyer-CMRG RNG seed, otherwise one is created randomly.</p>
<p>If <code>seed = NA</code>, a L'Ecuyer-CMRG RNG seed is randomly created.</p>
<p>If none of the function calls <code>.f(.x[[i]], ...)</code> use random number
generation, then <code>seed = FALSE</code> may be used.</p>
<p>In addition to the above, it is possible to specify a pre-generated
sequence of RNG seeds as a list such that <code>length(seed) == length(.x)</code> and
where each element is an integer seed that can be assigned to <code>.Random.seed</code>.
Use this alternative with caution. <em>Note that <code>as.list(seq_along(.x))</code> is
not a valid set of such <code>.Random.seed</code> values.</em></p>
<p>In all cases but <code>seed = FALSE</code>, after a furrr function returns, the RNG
state of the calling R process is guaranteed to be "forwarded one step" from
the RNG state before the call. This is true regardless of the future
strategy / scheduling used. This is done in order to guarantee that an R
script calling <code><a href="future_map.html">future_map()</a></code> multiple times should be numerically
reproducible given the same initial seed.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">furrr_options</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;furrr_options&gt;</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Davis Vaughan, Matt Dancho, RStudio.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

