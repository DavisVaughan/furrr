<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title><code>future</code> specific options — future_options • furrr</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="<code>future</code> specific options — future_options" />
<meta property="og:description" content="These options are used by future() internally to tweak the environment that
the expressions are called in. The most important ones are globals and
packages which allow you to be explicit about the variables and packages
that are exported to each worker." />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">furrr</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.1.0.9002</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/advanced-furrr-remote-connections.html">Advanced furrr: Remote connections</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/DavisVaughan/furrr/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1><code>future</code> specific options</h1>
    <small class="dont-index">Source: <a href='https://github.com/DavisVaughan/furrr/blob/master/R/future_options.R'><code>R/future_options.R</code></a></small>
    <div class="hidden name"><code>future_options.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>These options are used by <code>future()</code> internally to tweak the environment that
the expressions are called in. The most important ones are <code>globals</code> and
<code>packages</code> which allow you to be explicit about the variables and packages
that are exported to each worker.</p>
    </div>

    <pre class="usage"><span class='fu'>future_options</span>(
  <span class='kw'>globals</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>packages</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>seed</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>lazy</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>scheduling</span> <span class='kw'>=</span> <span class='fl'>1</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>globals</th>
      <td><p>A logical, a character vector, or a named list for
controlling how globals are handled. For details, see <code>Global variables and packages</code>.</p></td>
    </tr>
    <tr>
      <th>packages</th>
      <td><p>(optional) a character vector specifying packages
to be attached in the R environment evaluating the future.</p></td>
    </tr>
    <tr>
      <th>seed</th>
      <td><p>A logical or an integer (of length one or seven),
or a list of <code><a href='https://rdrr.io/r/base/length.html'>length(.x)</a></code> with pre-generated random seeds.
For details, see below section.</p></td>
    </tr>
    <tr>
      <th>lazy</th>
      <td><p>Specifies whether the futures should be resolved
lazily or eagerly (default).</p></td>
    </tr>
    <tr>
      <th>scheduling</th>
      <td><p>Average number of futures ("chunks") per worker.
If <code>0.0</code>, then a single future is used to process all elements
of <code>.x</code>.
If <code>1.0</code> or <code>TRUE</code>, then one future per worker is used.
If <code>2.0</code>, then each worker will process two futures
(if there are enough elements in <code>.x</code>).
If <code>Inf</code> or <code>FALSE</code>, then one future per element of
<code>.x</code> is used.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="global-variables-and-packages"><a class="anchor" href="#global-variables-and-packages"></a>Global variables and packages</h2>

    


<p>By default, the <code>future</code> package will perform black magic to look up the
global variables and packages that your <code>furrr</code> call requires, and it
will export these to each worker. However, it is not always perfect, and
can be refined with the <code>globals</code> and <code>packages</code> arguments.</p>
<p><code>globals</code> may be used to control how globals
should be handled similarly how the <code>globals</code> argument is used with
<code>future()</code>. Since all function calls use the same set of globals, this function can do
any gathering of globals upfront (once), which is more efficient than if
it would be done for each future independently.</p><ul>
<li><p>If <code>TRUE</code> or <code>NULL</code>, then globals are automatically identified and gathered.</p></li>
<li><p>If a character vector of names is specified, then those globals are gathered.</p></li>
<li><p>If a named list, then those globals are used as is.</p></li>
<li><p>In all cases, <code>.f</code> and any <code>...</code> arguments are automatically
passed as globals to each future created as they are always needed.</p></li>
</ul>

<p><code>packages</code> may be used to control the packages that are exported
to each worker.</p><ul>
<li><p>If a character vector of packages names is specified, those are exported
to each worker.</p></li>
<li><p>In all cases, <code>purrr</code> is exported, as it is always required on each worker.</p></li>
</ul>

    <h2 class="hasAnchor" id="reproducible-random-number-generation-rng-"><a class="anchor" href="#reproducible-random-number-generation-rng-"></a>Reproducible random number generation (RNG)</h2>

    


<p>Unless <code>seed = FALSE</code>, this function guarantees to generate
the exact same sequence of random numbers <em>given the same initial
seed / RNG state</em> - this regardless of type of futures and scheduling
("chunking") strategy.</p>
<p>RNG reproducibility is achieved by pregenerating the random seeds for all
iterations (over <code>.x</code>) by using L'Ecuyer-CMRG RNG streams.  In each
iteration, these seeds are set before calling <code>.f(.x[[ii]], ...)</code>.
<em>Note, for large <code><a href='https://rdrr.io/r/base/length.html'>length(.x)</a></code> this may introduce a large overhead.</em></p>
<p>As input (<code>seed</code>), a fixed seed (integer) may be given, either
as a full L'Ecuyer-CMRG RNG seed (vector of 1+6 integers) or as a seed
generating such a full L'Ecuyer-CMRG seed.
If <code>seed = TRUE</code>, then <code><a href='https://rdrr.io/r/base/Random.html'>.Random.seed</a></code>
is returned if it holds a L'Ecuyer-CMRG RNG seed, otherwise one is created
randomly.
If <code>seed = NA</code>, a L'Ecuyer-CMRG RNG seed is randomly created.
If none of the function calls <code>.f(.x[[ii]], ...)</code> uses random number
generation, then <code>seed = FALSE</code> may be used.</p>
<p>In addition to the above, it is possible to specify a pre-generated
sequence of RNG seeds as a list such that
<code>length(seed) == length(.x)</code> and where each element is an
integer seed that can be assigned to <code><a href='https://rdrr.io/r/base/Random.html'>.Random.seed</a></code>.
Use this alternative with caution.
<strong>Note that <code><a href='https://rdrr.io/r/base/list.html'>as.list(seq_along(.x))</a></code> is <em>not</em> a valid set of such
<code>.Random.seed</code> values.</strong></p>
<p>In all cases but <code>seed = FALSE</code>, the RNG state of the calling
R processes after this function returns is guaranteed to be
"forwarded one step" from the RNG state that was before the call and
in the same way regardless of <code>seed</code>, <code>scheduling</code>
and future strategy used.  This is done in order to guarantee that an <span style="R">R</span>
script calling <code><a href='future_map.html'>future_map()</a></code> multiple times should be numerically
reproducible given the same initial seed.</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Davis Vaughan, Matt Dancho.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


